require("../../../common/manifest.js");
require("../../../common/vendor.js");
global.webpackJsonp([1],{72:function(t,e,a){"use strict";var s=i(a(1)),o=i(a(73));function i(t){return t&&t.__esModule?t:{default:t}}new s.default(o.default).$mount()},73:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=a(75),o=a.n(s),i=a(77),n=!1;var r=function(t){n||a(74)},c=a(0)(o.a,i.a,r,"data-v-fbe94e2a",null);c.options.__file="..\\..\\..\\workspace\\uni-quickGo\\pages\\set\\set-address\\set-address.vue",c.esModule&&Object.keys(c.esModule).some(function(t){return"default"!==t&&"__"!==t.substr(0,2)})&&console.error("named exports are not supported in *.vue files."),c.options.functional&&console.error("[vue-loader] set-address.vue: functional components are not supported with templates, they should use render functions."),e.default=c.exports},74:function(t,e){},75:function(t,e,a){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0});var s,o=a(76),i=(s=o)&&s.__esModule?s:{default:s};e.default={data:function(){return{nearData:[],markers:[],latitude:"",longitude:"",amapPlugin:null,key:"00e4555e3962f1dae4823d81b6474b83"}},onLoad:function(){var t=this;this.amapPlugin=new i.default.AMapWX({key:this.key}),this.amapPlugin.getRegeo({iconPath:"../../../static/image/marker.png",iconWidth:32,iconHeight:32,success:function(e){console.log(e),t.markers=[{id:e[0].id,latitude:e[0].latitude,longitude:e[0].longitude,iconPath:e[0].iconPath,width:e[0].width,height:e[0].height}],t.latitude=e[0].latitude,t.longitude=e[0].longitude,t.nearData=e[0].regeocodeData.pois}})},methods:{pickAddress:function(e){console.log(e);e.currentTarget.dataset.name;t.showLoading({title:"请稍后..."}),setTimeout(function(){t.hideLoading(),t.showToast({title:"已保存",success:function(e){t.navigateBack({delta:1})}})},1500)}}}}).call(e,a(2).default)},76:function(t,e,a){"use strict";function s(t){this.key=t.key,this.requestConfig={key:t.key,s:"rsx",platform:"WXJS",appname:t.key,sdkversion:"1.2.0",logversion:"2.0"}}s.prototype.getWxLocation=function(t,e){wx.getLocation({type:"gcj02",success:function(t){var a=t.longitude+","+t.latitude;wx.setStorage({key:"userLocation",data:a}),e(a)},fail:function(a){wx.getStorage({key:"userLocation",success:function(t){t.data&&e(t.data)}}),t.fail({errCode:"0",errMsg:a.errMsg||""})}})},s.prototype.getRegeo=function(t){function e(e){var s=a.requestConfig;wx.request({url:"https://restapi.amap.com/v3/geocode/regeo",data:{key:a.key,location:e,extensions:"all",s:s.s,platform:s.platform,appname:a.key,sdkversion:s.sdkversion,logversion:s.logversion},method:"GET",header:{"content-type":"application/json"},success:function(a){var s,o,i,n,r,c,d,p,u;a.data.status&&"1"==a.data.status?(o=(s=a.data.regeocode).addressComponent,i=[],n="",s&&s.roads[0]&&s.roads[0].name&&(n=s.roads[0].name+"附近"),r=e.split(",")[0],c=e.split(",")[1],s.pois&&s.pois[0]&&(n=s.pois[0].name+"附近",(d=s.pois[0].location)&&(r=parseFloat(d.split(",")[0]),c=parseFloat(d.split(",")[1]))),o.provice&&i.push(o.provice),o.city&&i.push(o.city),o.district&&i.push(o.district),o.streetNumber&&o.streetNumber.street&&o.streetNumber.number?(i.push(o.streetNumber.street),i.push(o.streetNumber.number)):(p="",s&&s.roads[0]&&s.roads[0].name&&(p=s.roads[0].name),i.push(p)),i=i.join(""),u=[{iconPath:t.iconPath,width:t.iconWidth,height:t.iconHeight,name:i,desc:n,longitude:r,latitude:c,id:0,regeocodeData:s}],t.success(u)):t.fail({errCode:a.data.infocode,errMsg:a.data.info})},fail:function(e){t.fail({errCode:"0",errMsg:e.errMsg||""})}})}var a=this;t.location?e(t.location):a.getWxLocation(t,function(t){e(t)})},s.prototype.getWeather=function(t){function e(e){var a="base";t.type&&"forecast"==t.type&&(a="all"),wx.request({url:"https://restapi.amap.com/v3/weather/weatherInfo",data:{key:s.key,city:e,extensions:a,s:o.s,platform:o.platform,appname:s.key,sdkversion:o.sdkversion,logversion:o.logversion},method:"GET",header:{"content-type":"application/json"},success:function(e){var a,s;e.data.status&&"1"==e.data.status?e.data.lives?(a=e.data.lives)&&a.length>0&&((s=function(t){return{city:{text:"城市",data:t.city},weather:{text:"天气",data:t.weather},temperature:{text:"温度",data:t.temperature},winddirection:{text:"风向",data:t.winddirection+"风"},windpower:{text:"风力",data:t.windpower+"级"},humidity:{text:"湿度",data:t.humidity+"%"}}}(a=a[0])).liveData=a,t.success(s)):e.data.forecasts&&e.data.forecasts[0]&&t.success({forecast:e.data.forecasts[0]}):t.fail({errCode:e.data.infocode,errMsg:e.data.info})},fail:function(e){t.fail({errCode:"0",errMsg:e.errMsg||""})}})}function a(a){wx.request({url:"https://restapi.amap.com/v3/geocode/regeo",data:{key:s.key,location:a,extensions:"all",s:o.s,platform:o.platform,appname:s.key,sdkversion:o.sdkversion,logversion:o.logversion},method:"GET",header:{"content-type":"application/json"},success:function(a){var s,o;a.data.status&&"1"==a.data.status?((o=a.data.regeocode).addressComponent?s=o.addressComponent.adcode:o.aois&&o.aois.length>0&&(s=o.aois[0].adcode),e(s)):t.fail({errCode:a.data.infocode,errMsg:a.data.info})},fail:function(e){t.fail({errCode:"0",errMsg:e.errMsg||""})}})}var s=this,o=s.requestConfig;t.city?e(t.city):s.getWxLocation(t,function(t){a(t)})},s.prototype.getPoiAround=function(t){function e(e){var o={key:a.key,location:e,s:s.s,platform:s.platform,appname:a.key,sdkversion:s.sdkversion,logversion:s.logversion};t.querytypes&&(o.types=t.querytypes),t.querykeywords&&(o.keywords=t.querykeywords),wx.request({url:"https://restapi.amap.com/v3/place/around",data:o,method:"GET",header:{"content-type":"application/json"},success:function(e){var a,s,o,i;if(e.data.status&&"1"==e.data.status){if((e=e.data)&&e.pois){for(a=[],s=0;s<e.pois.length;s++)o=0==s?t.iconPathSelected:t.iconPath,a.push({latitude:parseFloat(e.pois[s].location.split(",")[1]),longitude:parseFloat(e.pois[s].location.split(",")[0]),iconPath:o,width:22,height:32,id:s,name:e.pois[s].name,address:e.pois[s].address});i={markers:a,poisData:e.pois},t.success(i)}}else t.fail({errCode:e.data.infocode,errMsg:e.data.info})},fail:function(e){t.fail({errCode:"0",errMsg:e.errMsg||""})}})}var a=this,s=a.requestConfig;t.location?e(t.location):a.getWxLocation(t,function(t){e(t)})},s.prototype.getStaticmap=function(t){function e(e){o.push("location="+e),t.zoom&&o.push("zoom="+t.zoom),t.size&&o.push("size="+t.size),t.scale&&o.push("scale="+t.scale),t.markers&&o.push("markers="+t.markers),t.labels&&o.push("labels="+t.labels),t.paths&&o.push("paths="+t.paths),t.traffic&&o.push("traffic="+t.traffic);var a=i+o.join("&");t.success({url:a})}var a,s=this,o=[],i="https://restapi.amap.com/v3/staticmap?";o.push("key="+s.key),a=s.requestConfig,o.push("s="+a.s),o.push("platform="+a.platform),o.push("appname="+a.appname),o.push("sdkversion="+a.sdkversion),o.push("logversion="+a.logversion),t.location?e(t.location):s.getWxLocation(t,function(t){e(t)})},s.prototype.getInputtips=function(t){var e=this,a=e.requestConfig,s={key:e.key,s:a.s,platform:a.platform,appname:e.key,sdkversion:a.sdkversion,logversion:a.logversion};t.location&&(s.location=t.location),t.keywords&&(s.keywords=t.keywords),t.type&&(s.type=t.type),t.city&&(s.city=t.city),t.citylimit&&(s.citylimit=t.citylimit),wx.request({url:"https://restapi.amap.com/v3/assistant/inputtips",data:s,method:"GET",header:{"content-type":"application/json"},success:function(e){e&&e.data&&e.data.tips&&t.success({tips:e.data.tips})},fail:function(e){t.fail({errCode:"0",errMsg:e.errMsg||""})}})},s.prototype.getDrivingRoute=function(t){var e=this,a=e.requestConfig,s={key:e.key,s:a.s,platform:a.platform,appname:e.key,sdkversion:a.sdkversion,logversion:a.logversion};t.origin&&(s.origin=t.origin),t.destination&&(s.destination=t.destination),t.strategy&&(s.strategy=t.strategy),t.waypoints&&(s.waypoints=t.waypoints),t.avoidpolygons&&(s.avoidpolygons=t.avoidpolygons),t.avoidroad&&(s.avoidroad=t.avoidroad),wx.request({url:"https://restapi.amap.com/v3/direction/driving",data:s,method:"GET",header:{"content-type":"application/json"},success:function(e){e&&e.data&&e.data.route&&t.success({paths:e.data.route.paths,taxi_cost:e.data.route.taxi_cost||""})},fail:function(e){t.fail({errCode:"0",errMsg:e.errMsg||""})}})},s.prototype.getWalkingRoute=function(t){var e=this,a=e.requestConfig,s={key:e.key,s:a.s,platform:a.platform,appname:e.key,sdkversion:a.sdkversion,logversion:a.logversion};t.origin&&(s.origin=t.origin),t.destination&&(s.destination=t.destination),wx.request({url:"https://restapi.amap.com/v3/direction/walking",data:s,method:"GET",header:{"content-type":"application/json"},success:function(e){e&&e.data&&e.data.route&&t.success({paths:e.data.route.paths})},fail:function(e){t.fail({errCode:"0",errMsg:e.errMsg||""})}})},s.prototype.getTransitRoute=function(t){var e=this,a=e.requestConfig,s={key:e.key,s:a.s,platform:a.platform,appname:e.key,sdkversion:a.sdkversion,logversion:a.logversion};t.origin&&(s.origin=t.origin),t.destination&&(s.destination=t.destination),t.strategy&&(s.strategy=t.strategy),t.city&&(s.city=t.city),t.cityd&&(s.cityd=t.cityd),wx.request({url:"https://restapi.amap.com/v3/direction/transit/integrated",data:s,method:"GET",header:{"content-type":"application/json"},success:function(e){if(e&&e.data&&e.data.route){var a=e.data.route;t.success({distance:a.distance||"",taxi_cost:a.taxi_cost||"",transits:a.transits})}},fail:function(e){t.fail({errCode:"0",errMsg:e.errMsg||""})}})},s.prototype.getRidingRoute=function(t){var e=this,a=e.requestConfig,s={key:e.key,s:a.s,platform:a.platform,appname:e.key,sdkversion:a.sdkversion,logversion:a.logversion};t.origin&&(s.origin=t.origin),t.destination&&(s.destination=t.destination),wx.request({url:"https://restapi.amap.com/v4/direction/bicycling",data:s,method:"GET",header:{"content-type":"application/json"},success:function(e){e&&e.data&&e.data.data&&t.success({paths:e.data.data.paths})},fail:function(e){t.fail({errCode:"0",errMsg:e.errMsg||""})}})},t.exports.AMapWX=s},77:function(t,e,a){"use strict";var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("view",{staticClass:"page"},[a("view",{staticClass:"map"},[a("map",{staticClass:"map",attrs:{latitude:t.latitude,longitude:t.longitude,markers:t.markers}})],1),a("scroll-view",{staticClass:"near-address",attrs:{"scroll-y":"true"}},t._l(t.nearData,function(e,s){return a("view",{key:e.id,staticClass:"item",attrs:{"data-name":e.name,eventid:"ob4-0-"+s},on:{click:t.pickAddress}},[a("view",{staticClass:"flag"},[a("image",0==s?{staticClass:"point",attrs:{src:"../../../static/image/point-c.png"}}:{staticClass:"point",attrs:{src:"../../../static/image/point.png"}})]),a("view",{staticClass:"address"},[a("view",{staticClass:"name"},[a("text",[t._v(t._s(e.name))])]),a("view",{staticClass:"desc"},[a("text",{staticClass:"desc-word"},[t._v(t._s(e.address))])])])])}))],1)};s._withStripped=!0;var o={render:s,staticRenderFns:[]};e.a=o}},[72]);
//# sourceMappingURL=../../../../.sourcemap/mp-weixin/pages/set/set-address/set-address.js.map